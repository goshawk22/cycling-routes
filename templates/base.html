<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Cycling Routes{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tailwind.css') }}">
    
    <!-- Preload critical Leaflet resources -->
    <link rel="preload" href="https://unpkg.com/leaflet/dist/leaflet.css" as="style">
    <link rel="preload" href="https://unpkg.com/leaflet/dist/leaflet.js" as="script">
    <link rel="preload" href="https://unpkg.com/@goshawk22/leaflet-elevation@2.5.3/dist/leaflet-elevation.css" as="style">
    <link rel="preload" href="https://unpkg.com/@goshawk22/leaflet-elevation@2.5.3/dist/leaflet-elevation.js" as="script">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js" as="script">
    
    <!-- Load Leaflet resources globally -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/@goshawk22/leaflet-elevation@2.5.3/dist/leaflet-elevation.css" />
    
    <style>
        .cafe-marker-near {
            background: #10b981;
            color: white;
            border: 2px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .cafe-marker-far {
            background: #6b7280;
            color: white;
            border: 2px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
    </style>
    
    {% block head %}{% endblock %}
</head>
<body class="bg-gray-50 text-gray-900">
    {% block content %}{% endblock %}

    <div class="h-32"></div> <!-- Add whitespace above the footer -->

    <footer class="mt-16 py-8 border-t border-gray-200 text-center text-sm text-gray-500 bg-white">
        <div class="container mx-auto flex flex-col md:flex-row justify-center gap-4">
            <a href="/privacy-policy" class="hover:underline">Privacy Policy</a>
            <span class="hidden md:inline">|</span>
            <a href="/terms-of-service" class="hover:underline">Terms of Service</a>
            <span class="hidden md:inline">|</span>
            <a href="/about" class="hover:underline">About</a>
        </div>
        <div class="mt-2">&copy; {{ now().year if now else "2025" }} Adam Lawson</div>
    </footer>

    <!-- Load JavaScript globally -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/@goshawk22/leaflet-elevation@2.5.3/dist/leaflet-elevation.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>
    
    {% block scripts %}{% endblock %}
</body>
</html>